<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">

    <title>Rock Paper Scissor Game -- Iftee's Version</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        img {
            width: 100px;
            height: 100px;
        }

        body {
            background-color: #24272E;
            font-family: 'Open Sans', sans-serif;
            text-align: center;
        }

        header {
            background-color: white;
            padding: 20px;
        }

        header>h1 {
            color: #24272E;
            text-align: center;
        }

        .green-glow {
            border: 4px solid #4dcc7d;
            box-shadow: 0 0 10px #31b43a;
        }

        .red-glow {
            border: 4px solid #fc121b;
            box-shadow: 0 0 10px #d01115;
        }

        .grey-glow {
            border: 4px solid #464647;
            box-shadow: 0 0 10px #25292b;
        }

        .score-board {
            margin: 20px auto;
            border: 3px solid white;
            border-radius: 4px;
            text-align: center;
            width: 200px;
            color: white;
            font-size: 46px;
            padding: 15px 20px;
            position: relative;
        }

        .badge {
            background-color: #E2584D;
            color: white;
            font-size: 14px;
            padding: 2px 10px;
        }

        #user-label {
            position: absolute;
            top: 30px;
            left: -25px;
        }

        #comp-label {
            position: absolute;
            top: 30px;
            right: -30px;
        }

        .result {
            font-size: 30px;
            color: white;
            text-align: center;
            font-weight: bold;
        }

        .choices {
            margin-top: 50px;
            text-align: center;
        }

        .choice {
            margin: 0 20px;
            display: inline-block;
        }

        .choice:hover {
            cursor: pointer;
            background-color: #0096c7;
        }

        #action-message {
            text-align: center;
            color: white;
            font-size: 20px;
            font-weight: bold;
            margin-top: 20px;
        }

        button {
            padding: 10px;
            background-color: #00b4d8;
            border-radius: 15%;
        }
    </style>
</head>

<body>
    <header>
        <h1>Rock Paper Scissor</h1>
    </header>

    <div class="score-board">
        <div id="user-label" class="badge">You</div>
        <div id="comp-label" class="badge">Comp</div>
        <span id="user-score">0</span>:<span id="computer-score">0</span>
    </div>

    <div class="result">
        <p>You know the rules!</p>
    </div>

    <div class="choices">
        <div class="choice" id="r">
            <img src="rock.png" alt="">
        </div>

        <div class="choice" id="p">
            <img src="paper.png" alt="">
        </div>

        <div class="choice" id="s">
            <img src="scissors.png" alt="">
        </div>
    </div>

    <p id="action-message">Make your move</p> <br>

    <button onclick="location.reload();">Refresh</button>

    <!-- ----------------------------------------------------------- -->
    <!-- ----------------------------------------------------------- -->

    <script>
        let result = document.querySelector(".result > p");

        let userScore_span = document.querySelector("#user-score");
        let computerScore_span = document.querySelector("#computer-score");

        let rock = document.querySelector("#r");
        let paper = document.querySelector("#p");
        let scissors = document.querySelector("#s");

        function getComputerChoice() {
            let choices = ["rock", "paper", "scissors"];
            let randomNumber = Math.floor(Math.random() * 3);
            return choices[randomNumber];
        }

        function game(userChoice) {
            let computerChoice = getComputerChoice();

            // win
            if ((userChoice === "rock" && computerChoice === "scissors") || (userChoice === "paper" && computerChoice === "rock") || (userChoice === "scissors" && computerChoice === "paper")) {
                console.log("you (user) won!");
                result.innerText = `Your move: [${userChoice}] --- Computer's move: [${computerChoice}]. 
                You Won!`;
                let userScore = parseInt(userScore_span.innerText);
                userScore += 1;
                userScore_span.innerText = userScore;
            }

            // lose
            else if ((userChoice === "paper" && computerChoice === "scissors") || (userChoice === "scissors" && computerChoice === "rock") || (userChoice === "rock" && computerChoice === "paper")) {
                console.log("you (user) lost!");
                result.innerText = `Your move: [${userChoice}] --- Computer's move: [${computerChoice}]. 
                You Lost!`;
                let computerScore = parseInt(computerScore_span.innerText);
                computerScore += 1;
                computerScore_span.innerText = computerScore;
            }

            // draw
            else if ((userChoice === "paper" && computerChoice === "paper") || (userChoice === "scissors" && computerChoice === "scissors") || (userChoice === "rock" && computerChoice === "rock")) {
                console.log("Draw!");
                result.innerText = `Your move: [${userChoice}] --- Computer's move: [${computerChoice}]. 
                Draw!`;
            }
        }

        function main() {
            rock.addEventListener("click", () => {
                game("rock");
            });

            paper.addEventListener("click", () => {
                game("paper");
            });

            scissors.addEventListener("click", () => {
                game("scissors");
            });
        }

        main();

    </script>
</body>

</html>
